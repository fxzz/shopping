<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 	
	"-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="shopping.mapper.EmployeeMapper">

<sql id="employeeBaseColumns">
	EMP_NUM, EMP_ID, EMP_PW, EMP_NAME, EMP_ADDR,EMP_ADDR_detail,EMP_POST,
	emp_enter_date,EMP_PHONE,EMP_EMAIL, EMP_jumin
</sql>

<select id="autoNum" resultType="String">
	select concat('emp' , nvl(max(substr(emp_num,4)),100000) + 1) 
      from employees
</select>
<insert id="employeeInsert" parameterType="emp" >
	insert into employees( <include refid="employeeBaseColumns" />)
	values( #{empNum},#{empId} ,#{empPw} ,#{empName} ,#{empAddr} 
			,#{empAddrDetail} ,#{empPost} 
			,SYSDATE ,#{empPhone} ,#{empEmail},#{empJumin})
</insert>	
	
	
</mapper>